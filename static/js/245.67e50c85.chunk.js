"use strict";(self.webpackChunkjourney_sick=self.webpackChunkjourney_sick||[]).push([[245],{55245:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var r=t(74165),i=t(15861),a=t(29439),c=t(5849),o=t(71285),s=t(72791),l=t(57689),u=t(75985),d=t(81153),m=t(1413),f=t(4841),g=t(15416),h=t(62155),x=t(68745),p=t(55261),Z=t(22041),v=t(5446),j=t(9195),y=t(80184),k=[{id:"itemName",label:"Item Name",minWidth:100,format:function(e){return e.toLocaleString("en-US")},onclick:!0},{id:"categoryName",label:"Category Name",minWidth:100,align:"center",format:function(e){return e.toLocaleString("en-US")}},{id:"quantity",label:"Quantity",minWidth:100,align:"center",format:function(e){return e.toLocaleString("en-US")}}];function I(e){var n=(0,l.s0)(),t=(0,s.useState)(""),I=(0,a.Z)(t,2),S=(I[0],I[1],(0,s.useState)({listOfItem:[],numOfItem:0})),b=(0,a.Z)(S,2),w=b[0],P=b[1],C=(0,s.useState)({pageIndex:0,pageSize:10,itemName:"",categoryId:e.category.categoryId}),O=(0,a.Z)(C,2),z=O[0],N=O[1],W=w.listOfItem,A=w.numOfItem,E=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.zg.delete(t||"");case 3:u.Am.success("Remove item successfully!"),i=(0,m.Z)({},z),N(i),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Failed to fetch item",e.t0),401==e.t0.response.status&&(localStorage.removeItem("access_token"),n("/auth/login"));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){function e(){return(e=(0,i.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.zg.getAll(z);case 2:n=e.sent,P(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[z]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(f.Z,{sx:{width:"100%",overflow:"hidden"},children:[(0,y.jsx)(d.ZP,{container:!0,sx:{mt:1,mb:1},children:(0,y.jsx)(d.ZP,{xs:6,sx:{pl:1},children:(0,y.jsx)("h2",{children:e.category.categoryName})})}),(0,y.jsx)(p.Z,{children:(0,y.jsxs)(g.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,y.jsx)(Z.Z,{children:(0,y.jsxs)(j.Z,{children:[k.map((function(e){return(0,y.jsx)(x.Z,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)})),(0,y.jsx)(x.Z,{align:"center",children:"Edit || Delete"},"edit")]})}),(0,y.jsx)(h.Z,{children:W.map((function(e){return(0,y.jsxs)(j.Z,{hover:!0,role:"checkbox",tabIndex:e.itemId,children:[k.map((function(t){var r=e[t.id];return(0,y.jsx)(y.Fragment,{children:t.onclick?(0,y.jsx)(x.Z,{align:t.align,onClick:function(){return t=e.itemId,void n("/admin/itemView/".concat(t));var t},children:t.format&&"number"===typeof r?t.format(r):r},t.id):(0,y.jsx)(x.Z,{align:t.align,children:t.format&&"number"===typeof r?t.format(r):r},t.id)})})),(0,y.jsxs)(x.Z,{align:"center",children:[(0,y.jsx)(c.Z,{variant:"outlined",value:e.itemId,onClick:function(e){return t=e.target.value,void n("/admin/itemUpdate/".concat(t));var t},color:"primary",children:"Edit"}),(0,y.jsx)(c.Z,{variant:"outlined",value:e.itemId,onClick:function(e){return E(e.target.value)},color:"error",children:"Delete"})]},"edit")]},e.itemId)}))})]})}),(0,y.jsx)(v.Z,{rowsPerPageOptions:[10,25,100],component:"div",count:A,rowsPerPage:z.pageSize,page:z.pageIndex,onPageChange:function(e,n){N((0,m.Z)((0,m.Z)({},z),{},{pageIndex:n}))},onRowsPerPageChange:function(e){N((0,m.Z)((0,m.Z)({},z),{},{pageIndex:0,pageSize:+e.target.value}))}})]}),(0,y.jsx)(d.ZP,{container:!0,sx:{mt:2}})]})}function S(){var e=(0,l.s0)(),n=(0,s.useState)([]),t=(0,a.Z)(n,2),u=t[0],m=t[1];return(0,s.useEffect)((function(){function e(){return(e=(0,i.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.OY.getAll({pageIndex:0,pageSize:10});case 2:n=e.sent,m(n.listOfCategory);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,y.jsxs)(y.Fragment,{children:[u.map((function(e){return(0,y.jsx)(I,{category:e})})),(0,y.jsxs)(d.ZP,{container:!0,sx:{mt:2},children:[(0,y.jsx)(d.ZP,{xs:6}),(0,y.jsx)(d.ZP,{xs:6,textAlign:"right",children:(0,y.jsx)(c.Z,{variant:"contained",onClick:function(){e("/admin/itemCreate")},children:"Create"})})]})]})}}}]);
//# sourceMappingURL=245.67e50c85.chunk.js.map