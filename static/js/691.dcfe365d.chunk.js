"use strict";(self.webpackChunkjourney_sick=self.webpackChunkjourney_sick||[]).push([[691],{64691:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var i=t(74165),a=t(15861),r=t(1413),c=t(29439),l=t(72791),d=t(64554),s=t(93006),o=t(5849),u=t(4841),h=t(15416),f=t(62155),g=t(68745),m=t(55261),p=t(22041),k=t(5446),x=t(9195),b=t(71285),Z=t(57689),v=t(75985),j=t(80184),y=[{id:"tripId",label:"Trip Id",minWidth:100,onclick:!0},{id:"fullname",label:"Username",minWidth:150,align:"center"},{id:"feedbackDescription",label:"Feedback",minWidth:100,align:"center"},{id:"rate",label:"Rate",minWidth:170,align:"center"},{id:"like",label:"Like",minWidth:100,align:"center"},{id:"dislike",label:"Dislike",minWidth:100,align:"center"},{id:"locationName",label:"Location Name",minWidth:100,align:"center"}];function w(){var e=(0,Z.s0)(),n=(0,l.useState)({pageIndex:0,pageSize:10,feedbackName:""}),t=(0,c.Z)(n,2),w=t[0],F=t[1],I=(0,l.useState)({listOfFeedback:[],numOfFeedback:0}),S=(0,c.Z)(I,2),W=S[0],C=S[1],P=W.listOfFeedback,D=W.numOfFeedback,O=(0,l.useState)(""),N=(0,c.Z)(O,2),z=N[0],A=N[1],R=function(e){(e.type&&"click"===e.type||!e)&&F((0,r.Z)((0,r.Z)({},w),{},{feedbackName:z}))},_=function(){var n=(0,a.Z)((0,i.Z)().mark((function n(t){var a;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,b.m$.delete(t||"");case 3:v.Am.success("Remove feedback successfully!"),a=(0,r.Z)({},w),F(a),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),console.log("Failed to fetch feedback",n.t0),401===n.t0.response.status&&(localStorage.removeItem("access_token"),e("/auth/login"));case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}();return(0,l.useEffect)((function(){function e(){return(e=(0,a.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.m$.getAll(w);case 2:n=e.sent,C(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[w]),(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(u.Z,{sx:{width:"100%",overflow:"hidden"},children:[(0,j.jsxs)(d.Z,{sx:{mt:1,mb:1},textAlign:"right",children:[(0,j.jsx)(s.Z,{id:"search",type:"search",label:"Search",value:z,onKeyDown:R,onChange:function(e){A(e.target.value)},sx:{width:400}}),(0,j.jsx)(o.Z,{variant:"outlined",onClick:R,sx:{height:42},children:"Search"})]}),(0,j.jsx)(m.Z,{children:(0,j.jsxs)(h.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,j.jsx)(p.Z,{children:(0,j.jsxs)(x.Z,{children:[y.map((function(e){return(0,j.jsx)(g.Z,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)})),(0,j.jsx)(g.Z,{align:"center",children:"Delete"},"edit")]})}),(0,j.jsx)(f.Z,{children:null===P||void 0===P?void 0:P.map((function(n){return(0,j.jsxs)(x.Z,{hover:!0,role:"checkbox",tabIndex:n.FeedbackId,children:[y.map((function(t){var i=n[t.id];return(0,j.jsx)(j.Fragment,{children:t.onclick?(0,j.jsx)(g.Z,{align:t.align,style:{textDecoration:"underline"},onClick:function(){return t=n.FeedbackId,void e("/admin/feedbackView/".concat(t));var t},children:t.format&&"number"===typeof i?t.format(i):i},t.id):(0,j.jsx)(g.Z,{align:t.align,children:t.format&&"number"===typeof i?t.format(i):i},t.id)})})),(0,j.jsx)(g.Z,{align:"center",children:(0,j.jsx)(o.Z,{variant:"outlined",value:n.FeedbackId,onClick:function(e){return _(e.target.value)},color:"secondary",children:"Delete"})},"edit")]},n.FeedbackId)}))})]})}),(0,j.jsx)(k.Z,{rowsPerPageOptions:[10,25,100],component:"div",count:D,rowsPerPage:w.pageSize,page:w.pageIndex,onPageChange:function(e,n){F((0,r.Z)((0,r.Z)({},w),{},{pageIndex:n}))},onRowsPerPageChange:function(e){F((0,r.Z)((0,r.Z)({},w),{},{pageIndex:0,pageSize:+e.target.value}))}})]})})}}}]);
//# sourceMappingURL=691.dcfe365d.chunk.js.map