{"version":3,"file":"static/js/245.67e50c85.chunk.js","mappings":"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","sources":["components/item/itemTable.js","pages/admin/itemManagement/itemList.jsx"],"sourcesContent":["import { Box, Button, TextField } from \"@mui/material\";\r\nimport Paper from \"@mui/material/Paper\";\r\nimport Table from \"@mui/material/Table\";\r\nimport TableBody from \"@mui/material/TableBody\";\r\nimport TableCell from \"@mui/material/TableCell\";\r\nimport TableContainer from \"@mui/material/TableContainer\";\r\nimport TableHead from \"@mui/material/TableHead\";\r\nimport TablePagination from \"@mui/material/TablePagination\";\r\nimport TableRow from \"@mui/material/TableRow\";\r\nimport { itemApi } from \"api\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport Grid from \"@mui/material/Grid\";\r\n\r\nconst columns = [\r\n  // { id: \"itemId\", label: \"Item Id\", minWidth: 100, onclick: true },\r\n  {\r\n    id: \"itemName\",\r\n    label: \"Item Name\",\r\n    minWidth: 100,\r\n    format: (value) => value.toLocaleString(\"en-US\"),\r\n    onclick: true,\r\n  },\r\n  {\r\n    id: \"categoryName\",\r\n    label: \"Category Name\",\r\n    minWidth: 100,\r\n    align: \"center\",\r\n    format: (value) => value.toLocaleString(\"en-US\"),\r\n  },\r\n  {\r\n    id: \"quantity\",\r\n    label: \"Quantity\",\r\n    minWidth: 100,\r\n    align: \"center\",\r\n    format: (value) => value.toLocaleString(\"en-US\"),\r\n  },\r\n];\r\n\r\nexport default function StickyHeadTableItem(props) {\r\n  let navigate = useNavigate();\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [allItems, setAllItems] = useState({\r\n    listOfItem: [],\r\n    numOfItem: 0,\r\n  });\r\n  const [filter, setFilter] = useState({\r\n    pageIndex: 0,\r\n    pageSize: 10,\r\n    itemName: \"\",\r\n    categoryId: props.category.categoryId,\r\n  });\r\n  const itemList = allItems.listOfItem;\r\n  const numberOfItem = allItems.numOfItem;\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setFilter({\r\n      ...filter,\r\n      pageIndex: newPage,\r\n    });\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setFilter({\r\n      ...filter,\r\n      pageIndex: 0,\r\n      pageSize: +event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleUpdate = (id) => {\r\n    // update\r\n    navigate(`/admin/itemUpdate/${id}`);\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      // Remove item API\r\n      await itemApi.delete(id || \"\");\r\n\r\n      toast.success(\"Remove item successfully!\");\r\n\r\n      // Trigger to re-fetch student list with current filter\r\n      const newFilter = { ...filter };\r\n      setFilter(newFilter);\r\n    } catch (error) {\r\n      // Toast error\r\n      console.log(\"Failed to fetch item\", error);\r\n      if (error.response.status == 401) {\r\n        localStorage.removeItem(\"access_token\");\r\n        navigate(\"/auth/login\");\r\n      }\r\n    }\r\n  };\r\n\r\n  function gotoView(id) {\r\n    navigate(`/admin/itemView/${id}`);\r\n  }\r\n\r\n  useEffect(() => {\r\n    async function getAllItems() {\r\n      const response = await itemApi.getAll(filter);\r\n      setAllItems(response);\r\n    }\r\n    getAllItems();\r\n  }, [filter]);\r\n\r\n  return (\r\n    <>\r\n      <Paper sx={{ width: \"100%\", overflow: \"hidden\" }}>\r\n        <Grid container sx={{ mt: 1, mb: 1 }}>\r\n          <Grid xs={6} sx={{ pl: 1 }}>\r\n            <h2>{props.category.categoryName}</h2>\r\n          </Grid>\r\n        </Grid>\r\n        <TableContainer>\r\n          <Table stickyHeader aria-label=\"sticky table\">\r\n            <TableHead>\r\n              <TableRow>\r\n                {columns.map((column) => (\r\n                  <TableCell\r\n                    key={column.id}\r\n                    align={column.align}\r\n                    style={{ minWidth: column.minWidth }}\r\n                  >\r\n                    {column.label}\r\n                  </TableCell>\r\n                ))}\r\n                <TableCell key=\"edit\" align=\"center\">\r\n                  Edit || Delete\r\n                </TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {itemList.map((row) => {\r\n                return (\r\n                  <TableRow\r\n                    hover\r\n                    role=\"checkbox\"\r\n                    tabIndex={row.itemId}\r\n                    key={row.itemId}\r\n                  >\r\n                    {columns.map((column) => {\r\n                      const value = row[column.id];\r\n                      return (\r\n                        <>\r\n                          {column.onclick ? (\r\n                            <TableCell\r\n                              key={column.id}\r\n                              align={column.align}\r\n                              onClick={() => gotoView(row.itemId)}\r\n                            >\r\n                              {column.format && typeof value === \"number\"\r\n                                ? column.format(value)\r\n                                : value}\r\n                            </TableCell>\r\n                          ) : (\r\n                            <TableCell key={column.id} align={column.align}>\r\n                              {column.format && typeof value === \"number\"\r\n                                ? column.format(value)\r\n                                : value}\r\n                            </TableCell>\r\n                          )}\r\n                        </>\r\n                      );\r\n                    })}\r\n                    <TableCell key=\"edit\" align=\"center\">\r\n                      <Button\r\n                        variant=\"outlined\"\r\n                        value={row.itemId}\r\n                        onClick={(e) => handleUpdate(e.target.value)}\r\n                        color=\"primary\"\r\n                      >\r\n                        Edit\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"outlined\"\r\n                        value={row.itemId}\r\n                        onClick={(e) => handleDelete(e.target.value)}\r\n                        color=\"error\"\r\n                      >\r\n                        Delete\r\n                      </Button>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                );\r\n              })}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n        <TablePagination\r\n          rowsPerPageOptions={[10, 25, 100]}\r\n          component=\"div\"\r\n          count={numberOfItem}\r\n          rowsPerPage={filter.pageSize}\r\n          page={filter.pageIndex}\r\n          onPageChange={handleChangePage}\r\n          onRowsPerPageChange={handleChangeRowsPerPage}\r\n        />\r\n      </Paper>\r\n      <Grid container sx={{ mt: 2 }}></Grid>\r\n    </>\r\n  );\r\n}\r\n","import { Box, Button, TextField } from \"@mui/material\";\r\nimport { itemCategoryApi } from \"api\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport StickyHeadTableItem from \"components/item/itemTable\";\r\n\r\nconst columns = [\r\n  {\r\n    id: \"itemName\",\r\n    label: \"Item Name\",\r\n    minWidth: 100,\r\n    format: (value) => value.toLocaleString(\"en-US\"),\r\n    onclick: true,\r\n  },\r\n  {\r\n    id: \"itemDescription\",\r\n    label: \"Item Description\",\r\n    minWidth: 100,\r\n    align: \"center\",\r\n    format: (value) => value.toLocaleString(\"en-US\"),\r\n  },\r\n  {\r\n    id: \"categoryName\",\r\n    label: \"Category Name\",\r\n    minWidth: 100,\r\n    align: \"center\",\r\n    format: (value) => value.toLocaleString(\"en-US\"),\r\n  },\r\n  {\r\n    id: \"quantity\",\r\n    label: \"Quantity\",\r\n    minWidth: 100,\r\n    align: \"center\",\r\n    format: (value) => value.toLocaleString(\"en-US\"),\r\n  },\r\n];\r\n\r\nexport default function ItemList() {\r\n  let navigate = useNavigate();\r\n  const [categoryList, setCategoryList] = useState([]);\r\n\r\n  function gotoCreate() {\r\n    navigate(`/admin/itemCreate`);\r\n  }\r\n\r\n  useEffect(() => {\r\n    async function getAllItems() {\r\n      const category = await itemCategoryApi.getAll({\r\n        pageIndex: 0,\r\n        pageSize: 10,\r\n      });\r\n      setCategoryList(category.listOfCategory);\r\n    }\r\n    getAllItems();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {categoryList.map((category) => (\r\n        <StickyHeadTableItem category={category} />\r\n      ))}\r\n      <Grid container sx={{ mt: 2 }}>\r\n        <Grid xs={6}></Grid>\r\n        <Grid xs={6} textAlign=\"right\">\r\n          <Button variant=\"contained\" onClick={gotoCreate}>\r\n            Create\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n    </>\r\n  );\r\n}\r\n"],"names":["columns","id","label","minWidth","format","value","toLocaleString","onclick","align","StickyHeadTableItem","props","navigate","useNavigate","_useState","useState","_useState2","_slicedToArray","_useState3","listOfItem","numOfItem","_useState4","allItems","setAllItems","_useState5","pageIndex","pageSize","itemName","categoryId","category","_useState6","filter","setFilter","itemList","numberOfItem","handleDelete","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","newFilter","wrap","_context","prev","next","itemApi","toast","_objectSpread","t0","console","log","response","status","localStorage","removeItem","stop","_x","apply","arguments","useEffect","_getAllItems","_callee2","_context2","sent","getAllItems","_jsxs","_Fragment","children","Paper","sx","width","overflow","_jsx","Grid","container","mt","mb","xs","pl","categoryName","TableContainer","Table","stickyHeader","TableHead","TableRow","map","column","TableCell","style","TableBody","row","hover","role","tabIndex","itemId","onClick","concat","Button","variant","e","target","color","TablePagination","rowsPerPageOptions","component","count","rowsPerPage","page","onPageChange","event","newPage","onRowsPerPageChange","ItemList","categoryList","setCategoryList","itemCategoryApi","listOfCategory","textAlign"],"sourceRoot":""}