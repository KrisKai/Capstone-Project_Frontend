"use strict";(self.webpackChunkjourney_sick=self.webpackChunkjourney_sick||[]).push([[313],{23313:function(e,t,r){r.r(t),r.d(t,{default:function(){return Z}});var a=r(74165),n=r(15861),s=r(29439),i=r(89164),c=r(88588),o=r(30035),u=r(5849),l=r(81153),d=r(93006),g=r(4567),m=r(71285),p=r(22339),y=r(72791),h=r(57689),x=r(75985),f=r(8007),C=r(80184);function Z(){var e=(0,h.s0)(),t=(0,h.UO)().categoryId,r=Boolean(t),Z=(0,y.useState)({categoryName:"",categoryDescription:""}),v=(0,s.Z)(Z,2),j=v[0],b=v[1],k=(0,y.useState)([{userId:"",email:"",fullname:""}]),N=(0,s.Z)(k,2),D=(N[0],N[1]);function S(){e("/admin/itemCategoryList")}(0,y.useEffect)((function(){(0,n.Z)((0,a.Z)().mark((function r(){var n,s;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,m.BG.getAll({pageIndex:0,pageSize:99999999,userName:""});case 2:if(n=r.sent,D(n.listOfUser),t){r.next=6;break}return r.abrupt("return");case 6:return r.prev=6,r.next=9,m.OY.getById(t);case 9:null!=(s=r.sent)&&""!=s?b(s):e("/admin/itemCategoryList"),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(6),console.log("Failed to fetch category",r.t0),401==r.t0.response.status&&(localStorage.removeItem("access_token"),e("/auth/login"));case 17:case"end":return r.stop()}}),r,null,[[6,13]])})))()}),[t]);var w=f.Ry().shape({categoryName:f.Z_("Enter Category Name").required("Category Name is required"),categoryDescription:f.Z_("Enter Category Description").required("Category Description is required")});return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(g.Z,{variant:"h4",gutterBottom:!0,color:"primary",children:r?"Update Category":"Create Category"}),(0,C.jsx)(i.Z,{children:(0,C.jsx)(p.J9,{initialValues:j,enableReinitialize:!0,validationSchema:w,onSubmit:function(){var t=(0,n.Z)((0,a.Z)().mark((function t(n,s){var i,c,o;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=s.setErrors,c=s.setStatus,t.prev=1,c({success:!1}),!r){t.next=9;break}return t.next=6,m.OY.update(n);case 6:o=t.sent,t.next=12;break;case 9:return t.next=11,m.OY.create(n);case 11:o=t.sent;case 12:t.t0=o.Code,t.next="G001"===t.t0?15:"U001"===t.t0?16:"I001"===t.t0?17:18;break;case 15:case 16:case 17:return t.abrupt("return",x.Am.error(o.Message));case 18:e("/admin/itemCategoryList"),r?x.Am.success("Update Category Successed!"):x.Am.success("Create Category Successed!");case 20:t.next=26;break;case 22:t.prev=22,t.t1=t.catch(1),c({success:!1}),i({submit:t.t1.message});case 26:case"end":return t.stop()}}),t,null,[[1,22]])})));return function(e,r){return t.apply(this,arguments)}}(),children:function(e){var t=e.errors,a=e.touched,n=e.handleChange,s=e.handleSubmit,i=e.values;e.setFieldValue;return(0,C.jsx)("form",{onSubmit:s,children:(0,C.jsx)(c.Z,{sx:{padding:8,gap:2},children:(0,C.jsxs)(l.ZP,{container:!0,spacing:3,children:[(0,C.jsxs)(l.ZP,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(d.Z,{id:"categoryName",name:"categoryName",label:"Category Name",fullWidth:!0,variant:"outlined",value:i.categoryName,onChange:n,error:Boolean(a.categoryName&&t.categoryName)}),a.categoryName&&t.categoryName&&(0,C.jsx)(o.Z,{error:!0,id:"standard-weight-helper-text-CategoryName",children:t.categoryName})]}),(0,C.jsxs)(l.ZP,{item:!0,xs:12,children:[(0,C.jsx)(d.Z,{id:"categoryDescription",name:"categoryDescription",label:"Category Description",fullWidth:!0,autoComplete:"",variant:"outlined",value:i.categoryDescription,onChange:n,error:Boolean(a.categoryDescription&&t.categoryDescription)}),a.categoryDescription&&t.categoryDescription&&(0,C.jsx)(o.Z,{error:!0,id:"standard-weight-helper-CategoryDescription",children:t.categoryDescription})]}),(0,C.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,C.jsx)(u.Z,{variant:"outlined",onClick:S,children:"Return to List"})}),(0,C.jsx)(l.ZP,{item:!0,xs:12,sm:6,textAlign:"right",children:(0,C.jsx)(u.Z,{type:"submit",variant:"contained",children:r?"Update":"Create"})})]})})})}})})]})}}}]);
//# sourceMappingURL=313.4d444bdc.chunk.js.map