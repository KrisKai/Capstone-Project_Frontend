"use strict";(self.webpackChunkjourney_sick=self.webpackChunkjourney_sick||[]).push([[250],{44250:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var r=n(74165),a=n(15861),i=n(1413),c=n(29439),o=n(64554),l=n(93006),s=n(5849),u=n(4841),d=n(15416),g=n(62155),h=n(68745),f=n(55261),x=n(22041),m=n(5446),Z=n(9195),p=n(71285),y=n(72791),v=n(57689),j=n(75985),k=n(81153),C=n(80184),b=[{id:"categoryName",label:"Category Name",minWidth:100,format:function(e){return e.toLocaleString("en-US")},onclick:!0},{id:"categoryDescription",label:"Category Description",minWidth:100,align:"center",format:function(e){return e.toLocaleString("en-US")}},{id:"categoryName",label:"Category Name",minWidth:100,align:"center",format:function(e){return e.toLocaleString("en-US")}}];function S(){var e=(0,v.s0)(),t=(0,y.useState)(""),n=(0,c.Z)(t,2),S=n[0],w=n[1],I=(0,y.useState)({listOfCategory:[],numOfCategory:0}),P=(0,c.Z)(I,2),N=P[0],O=P[1],W=(0,y.useState)({pageIndex:0,pageSize:10,categoryName:""}),A=(0,c.Z)(W,2),D=A[0],U=A[1],z=N.listOfCategory,E=N.numOfCategory,F=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.OY.delete(n||"");case 3:j.Am.success("Remove category successfully!"),a=(0,i.Z)({},D),U(a),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Failed to fetch category",t.t0),401==t.t0.response.status&&(localStorage.removeCategory("access_token"),e("/auth/login"));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}();return(0,y.useEffect)((function(){function e(){return(e=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.OY.getAll(D);case 2:t=e.sent,O(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[D]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(u.Z,{sx:{width:"100%",overflow:"hidden"},children:[(0,C.jsxs)(o.Z,{sx:{mt:1,mb:1},textAlign:"right",children:[(0,C.jsx)(l.Z,{id:"search",type:"search",label:"Search",value:S,onChange:function(e){w(e.target.value),U((0,i.Z)((0,i.Z)({},D),{},{categoryName:e.target.value}))},sx:{width:400}}),(0,C.jsx)(s.Z,{variant:"outlined",onClick:function(e){w(e.target.value),U((0,i.Z)((0,i.Z)({},D),{},{categoryName:e.target.value}))},sx:{height:42},children:"Search"})]}),(0,C.jsx)(f.Z,{children:(0,C.jsxs)(d.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,C.jsx)(x.Z,{children:(0,C.jsxs)(Z.Z,{children:[b.map((function(e){return(0,C.jsx)(h.Z,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)})),(0,C.jsx)(h.Z,{align:"center",children:"Edit || Delete"},"edit")]})}),(0,C.jsx)(g.Z,{children:z.map((function(t){return(0,C.jsxs)(Z.Z,{hover:!0,role:"checkbox",tabIndex:t.categoryId,children:[b.map((function(n){var r=t[n.id];return(0,C.jsx)(C.Fragment,{children:n.onclick?(0,C.jsx)(h.Z,{align:n.align,onClick:function(){return n=t.categoryId,void e("/admin/categoryView/".concat(n));var n},children:n.format&&"number"===typeof r?n.format(r):r},n.id):(0,C.jsx)(h.Z,{align:n.align,children:n.format&&"number"===typeof r?n.format(r):r},n.id)})})),(0,C.jsxs)(h.Z,{align:"center",children:[(0,C.jsx)(s.Z,{variant:"outlined",value:t.categoryId,onClick:function(t){return n=t.target.value,void e("/admin/categoryUpdate/".concat(n));var n},color:"primary",children:"Edit"}),(0,C.jsx)(s.Z,{variant:"outlined",value:t.categoryId,onClick:function(e){return F(e.target.value)},color:"error",children:"Delete"})]},"edit")]},t.categoryId)}))})]})}),(0,C.jsx)(m.Z,{rowsPerPageOptions:[10,25,100],component:"div",count:E,rowsPerPage:D.pageSize,page:D.pageIndex,onPageChange:function(e,t){U((0,i.Z)((0,i.Z)({},D),{},{pageIndex:t}))},onRowsPerPageChange:function(e){U((0,i.Z)((0,i.Z)({},D),{},{pageIndex:0,pageSize:+e.target.value}))}})]}),(0,C.jsxs)(k.ZP,{container:!0,sx:{mt:2},children:[(0,C.jsx)(k.ZP,{xs:6}),(0,C.jsx)(k.ZP,{xs:6,textAlign:"right",children:(0,C.jsx)(s.Z,{variant:"contained",onClick:function(){e("/admin/categoryCreate")},children:"Create"})})]})]})}}}]);
//# sourceMappingURL=250.86053b03.chunk.js.map