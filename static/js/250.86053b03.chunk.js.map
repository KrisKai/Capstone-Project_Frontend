{"version":3,"file":"static/js/250.86053b03.chunk.js","mappings":"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","sources":["pages/admin/itemManagement/categoryList.jsx"],"sourcesContent":["import { Box, Button, TextField } from \"@mui/material\";\r\nimport Paper from \"@mui/material/Paper\";\r\nimport Table from \"@mui/material/Table\";\r\nimport TableBody from \"@mui/material/TableBody\";\r\nimport TableCell from \"@mui/material/TableCell\";\r\nimport TableContainer from \"@mui/material/TableContainer\";\r\nimport TableHead from \"@mui/material/TableHead\";\r\nimport TablePagination from \"@mui/material/TablePagination\";\r\nimport TableRow from \"@mui/material/TableRow\";\r\nimport { itemCategoryApi } from \"api\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport Grid from \"@mui/material/Grid\";\r\n\r\nconst columns = [\r\n  // { id: \"categoryId\", label: \"Category Id\", minWidth: 100, onclick: true },\r\n  {\r\n    id: \"categoryName\",\r\n    label: \"Category Name\",\r\n    minWidth: 100,\r\n    format: (value) => value.toLocaleString(\"en-US\"),\r\n    onclick: true,\r\n  },\r\n  {\r\n    id: \"categoryDescription\",\r\n    label: \"Category Description\",\r\n    minWidth: 100,\r\n    align: \"center\",\r\n    format: (value) => value.toLocaleString(\"en-US\"),\r\n  },\r\n  {\r\n    id: \"categoryName\",\r\n    label: \"Category Name\",\r\n    minWidth: 100,\r\n    align: \"center\",\r\n    format: (value) => value.toLocaleString(\"en-US\"),\r\n  },\r\n];\r\n\r\nexport default function StickyHeadTableCategory() {\r\n  let navigate = useNavigate();\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [allCategories, setAllCategories] = useState({\r\n    listOfCategory: [],\r\n    numOfCategory: 0,\r\n  });\r\n  const [filter, setFilter] = useState({\r\n    pageIndex: 0,\r\n    pageSize: 10,\r\n    categoryName: \"\",\r\n  });\r\n  const categoryList = allCategories.listOfCategory;\r\n  const numberOfCategory = allCategories.numOfCategory;\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchTerm(event.target.value);\r\n    // call api\r\n    setFilter({\r\n      ...filter,\r\n      categoryName: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setSearchTerm(event.target.value);\r\n    setFilter({\r\n      ...filter,\r\n      categoryName: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setFilter({\r\n      ...filter,\r\n      pageIndex: newPage,\r\n    });\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setFilter({\r\n      ...filter,\r\n      pageIndex: 0,\r\n      pageSize: +event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleUpdate = (id) => {\r\n    // update\r\n    navigate(`/admin/categoryUpdate/${id}`);\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      // Remove category API\r\n      await itemCategoryApi.delete(id || \"\");\r\n\r\n      toast.success(\"Remove category successfully!\");\r\n\r\n      // Trigger to re-fetch student list with current filter\r\n      const newFilter = { ...filter };\r\n      setFilter(newFilter);\r\n    } catch (error) {\r\n      // Toast error\r\n      console.log(\"Failed to fetch category\", error);\r\n      if (error.response.status == 401) {\r\n        localStorage.removeCategory(\"access_token\");\r\n        navigate(\"/auth/login\");\r\n      }\r\n    }\r\n  };\r\n\r\n  function gotoCreate() {\r\n    navigate(`/admin/categoryCreate`);\r\n  }\r\n\r\n  function gotoView(id) {\r\n    navigate(`/admin/categoryView/${id}`);\r\n  }\r\n\r\n  useEffect(() => {\r\n    async function getAllCategorys() {\r\n      const response = await itemCategoryApi.getAll(filter);\r\n      setAllCategories(response);\r\n    }\r\n    getAllCategorys();\r\n  }, [filter]);\r\n\r\n  return (\r\n    <>\r\n      <Paper sx={{ width: \"100%\", overflow: \"hidden\" }}>\r\n        <Box sx={{ mt: 1, mb: 1 }} textAlign=\"right\">\r\n          <TextField\r\n            id=\"search\"\r\n            type=\"search\"\r\n            label=\"Search\"\r\n            value={searchTerm}\r\n            onChange={handleChange}\r\n            sx={{ width: 400 }}\r\n          />\r\n          <Button variant=\"outlined\" onClick={handleSearch} sx={{ height: 42 }}>\r\n            Search\r\n          </Button>\r\n        </Box>\r\n\r\n        <TableContainer>\r\n          <Table stickyHeader aria-label=\"sticky table\">\r\n            <TableHead>\r\n              <TableRow>\r\n                {columns.map((column) => (\r\n                  <TableCell\r\n                    key={column.id}\r\n                    align={column.align}\r\n                    style={{ minWidth: column.minWidth }}\r\n                  >\r\n                    {column.label}\r\n                  </TableCell>\r\n                ))}\r\n                <TableCell key=\"edit\" align=\"center\">\r\n                  Edit || Delete\r\n                </TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {categoryList.map((row) => {\r\n                return (\r\n                  <TableRow\r\n                    hover\r\n                    role=\"checkbox\"\r\n                    tabIndex={row.categoryId}\r\n                    key={row.categoryId}\r\n                  >\r\n                    {columns.map((column) => {\r\n                      const value = row[column.id];\r\n                      return (\r\n                        <>\r\n                          {column.onclick ? (\r\n                            <TableCell\r\n                              key={column.id}\r\n                              align={column.align}\r\n                              onClick={() => gotoView(row.categoryId)}\r\n                            >\r\n                              {column.format && typeof value === \"number\"\r\n                                ? column.format(value)\r\n                                : value}\r\n                            </TableCell>\r\n                          ) : (\r\n                            <TableCell key={column.id} align={column.align}>\r\n                              {column.format && typeof value === \"number\"\r\n                                ? column.format(value)\r\n                                : value}\r\n                            </TableCell>\r\n                          )}\r\n                        </>\r\n                      );\r\n                    })}\r\n                    <TableCell key=\"edit\" align=\"center\">\r\n                      <Button\r\n                        variant=\"outlined\"\r\n                        value={row.categoryId}\r\n                        onClick={(e) => handleUpdate(e.target.value)}\r\n                        color=\"primary\"\r\n                      >\r\n                        Edit\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"outlined\"\r\n                        value={row.categoryId}\r\n                        onClick={(e) => handleDelete(e.target.value)}\r\n                        color=\"error\"\r\n                      >\r\n                        Delete\r\n                      </Button>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                );\r\n              })}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n        <TablePagination\r\n          rowsPerPageOptions={[10, 25, 100]}\r\n          component=\"div\"\r\n          count={numberOfCategory}\r\n          rowsPerPage={filter.pageSize}\r\n          page={filter.pageIndex}\r\n          onPageChange={handleChangePage}\r\n          onRowsPerPageChange={handleChangeRowsPerPage}\r\n        />\r\n      </Paper>\r\n      <Grid container sx={{ mt: 2 }}>\r\n        <Grid xs={6}></Grid>\r\n        <Grid xs={6} textAlign=\"right\">\r\n          <Button variant=\"contained\" onClick={gotoCreate}>\r\n            Create\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n    </>\r\n  );\r\n}\r\n"],"names":["columns","id","label","minWidth","format","value","toLocaleString","onclick","align","StickyHeadTableCategory","navigate","useNavigate","_useState","useState","_useState2","_slicedToArray","searchTerm","setSearchTerm","_useState3","listOfCategory","numOfCategory","_useState4","allCategories","setAllCategories","_useState5","pageIndex","pageSize","categoryName","_useState6","filter","setFilter","categoryList","numberOfCategory","handleDelete","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","newFilter","wrap","_context","prev","next","itemCategoryApi","toast","_objectSpread","t0","console","log","response","status","localStorage","removeCategory","stop","_x","apply","arguments","useEffect","_getAllCategorys","_callee2","_context2","sent","getAllCategorys","_jsxs","_Fragment","children","Paper","sx","width","overflow","Box","mt","mb","textAlign","_jsx","TextField","type","onChange","event","target","Button","variant","onClick","height","TableContainer","Table","stickyHeader","TableHead","TableRow","map","column","TableCell","style","TableBody","row","hover","role","tabIndex","categoryId","concat","e","color","TablePagination","rowsPerPageOptions","component","count","rowsPerPage","page","onPageChange","newPage","onRowsPerPageChange","Grid","container","xs"],"sourceRoot":""}